<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://tulok.vzma.hu/tags">
<h:head>
	<h:outputStylesheet name="css/styles.css" />
</h:head>
<h:body>
	<ui:composition template="/xhtml/patrol/patrolFrame.xhtml">
		<ui:define name="innerContent">

			<b:form>
				<t:pageHeader title="Próbák" saveButton="false"
					undoBean="#{patrolController}" undoMethod="undoEdit" />

				<b:tabView pills="true">

					<b:tab title="Kiscserkész">
						<t:dataTable value="#{patrolController.patrol}" type="patrol">
							<b:dataTableColumn label="Név">
								<t:entityLink entity="#{item}" />
							</b:dataTableColumn>
							<b:dataTableColumn label="" rendered="#{userController.edit}"
								orderable="false">
								<b:commandButton iconAwesome="plus" size="xs"
									style="margin-right:5px" ajax="true"
									update="@(.challenge_new_modal)"
									onclick="ajax:challengeBean.setForNewModal(item)"
									oncomplete="$('.challenge_new_modal').modal();return false;"
									rendered="#{not item.hasEveryChallenge() and userController.edit}" />
							</b:dataTableColumn>
							<b:dataTableColumn label="Piros pajzs">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('KCS1'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('KCS1').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('KCS1').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="Fehér pajzs">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('KCS2'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('KCS2').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('KCS2').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="Zöld pajzs">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('KCS3'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('KCS3').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('KCS3').getDetails()}" />
								</div>
							</b:dataTableColumn>
						</t:dataTable>
					</b:tab>

					<b:tab title="Cserkész">
						<t:dataTable value="#{patrolController.patrol}" type="patrol">
							<b:dataTableColumn label="Név">
								<t:entityLink entity="#{item}" />
							</b:dataTableColumn>
							<b:dataTableColumn label="" rendered="#{userController.edit}"
								orderable="false">
								<b:commandButton iconAwesome="plus" size="xs"
									style="margin-right:5px" ajax="true"
									update="@(.challenge_new_modal)"
									onclick="ajax:challengeBean.setForNewModal(item)"
									oncomplete="$('.challenge_new_modal').modal();return false;"
									rendered="#{not item.hasEveryChallenge() and userController.edit}" />
							</b:dataTableColumn>
							<b:dataTableColumn label="Újonc">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('CS1'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('CS1').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('CS1').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="2. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('CS2'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('CS2').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('CS2').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="3. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('CS3'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('CS3').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('CS3').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="4. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('CS4'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('CS4').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('CS4').getDetails()}" />
								</div>
							</b:dataTableColumn>
						</t:dataTable>
					</b:tab>

					<b:tab title="Kósza">
						<t:dataTable value="#{patrolController.patrol}" type="patrol">
							<b:dataTableColumn label="Név">
								<t:entityLink entity="#{item}" />
							</b:dataTableColumn>
							<b:dataTableColumn label="" rendered="#{userController.edit}"
								orderable="false">
								<b:commandButton iconAwesome="plus" size="xs"
									style="margin-right:5px" ajax="true"
									update="@(.challenge_new_modal)"
									onclick="ajax:challengeBean.setForNewModal(item)"
									oncomplete="$('.challenge_new_modal').modal();return false;"
									rendered="#{not item.hasEveryChallenge() and userController.edit}" />
							</b:dataTableColumn>
							<b:dataTableColumn label="1. év (nyakkendő)">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('KO1'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('KO1').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('KO1').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="2. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('KO2'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('KO2').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('KO2').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="3. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('KO3'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('KO3').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('KO3').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="4. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('KO4'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('KO4').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('KO4').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="Kósza kolonc">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('KO'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('KO').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('KO').getDetails()}" />
								</div>
							</b:dataTableColumn>
						</t:dataTable>
					</b:tab>

					<b:tab title="Vándor">
						<t:dataTable value="#{patrolController.patrol}" type="patrol">
							<b:dataTableColumn label="Név">
								<t:entityLink entity="#{item}" />
							</b:dataTableColumn>
							<b:dataTableColumn label="" rendered="#{userController.edit}"
								orderable="false">
								<b:commandButton iconAwesome="plus" size="xs"
									style="margin-right:5px" ajax="true"
									update="@(.challenge_new_modal)"
									onclick="ajax:challengeBean.setForNewModal(item)"
									oncomplete="$('.challenge_new_modal').modal();return false;"
									rendered="#{not item.hasEveryChallenge() and userController.edit}" />
							</b:dataTableColumn>
							<b:dataTableColumn label="1. év (nyakkendő)">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('VA1'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('VA1').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('VA1').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="2. év (barackmag)">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('VA2'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('VA2').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('VA2').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="3. év (égertoboz)">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('VA3'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('VA3').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('VA3').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="4. év (dió)">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('VA4'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('VA4').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('VA4').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="Világjáró őv">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.challenge_edit_modal)"
										onclick="ajax:challengeBean.setForEditModal(item.getChallengeByType('VAV'))"
										oncomplete="$('.challenge_edit_modal').modal();return false;"
										rendered="#{not empty item.getChallengeByType('VAV').getDetails() and userController.edit}" />
									<h:outputText
										value="#{item.getChallengeByType('VAV').getDetails()}" />
								</div>
							</b:dataTableColumn>
						</t:dataTable>
					</b:tab>

				</b:tabView>

				<t:challengeNewModal updater="#{patrolController.loader}" />
				<t:challengeEditModal updater="#{patrolController.loader}" />

			</b:form>

		</ui:define>
	</ui:composition>
</h:body>
</html>