<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://tulok.vzma.hu/tags">
<h:head>
	<h:outputStylesheet name="css/styles.css" />
</h:head>
<h:body>
	<ui:composition template="/xhtml/patrol/patrolFrame.xhtml">
		<ui:define name="innerContent">

			<b:form>
				<t:pageHeader title="Próbák" saveButton="false"
					undoBean="#{patrolController}" undoMethod="undoEdit" />

				<b:tabView pills="true">

					<b:tab title="Kiscserkész">
						<b:dataTable
							value="#{utils.orderScoutSet(patrolController.patrol.scouts)}"
							var="scout" info="false" paginated="false" searching="false"
							scrollHorizontally="true">
							<b:dataTableColumn label="Név">
								<t:entityLink entity="#{scout}"/>
							</b:dataTableColumn>
							<b:dataTableColumn label="Piros pajzs">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_kcs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('KCS1'))"
										oncomplete="$('.edit_kcs_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('KCS1').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_kcs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'KCS1')"
										oncomplete="$('.new_kcs_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('KCS1').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('KCS1').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="Fehér pajzs">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_kcs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('KCS2'))"
										oncomplete="$('.edit_kcs_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('KCS2').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_kcs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'KCS2')"
										oncomplete="$('.new_kcs_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('KCS2').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('KCS2').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="Zöld pajzs">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_kcs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('KCS3'))"
										oncomplete="$('.edit_kcs_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('KCS3').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_kcs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'KCS3')"
										oncomplete="$('.new_kcs_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('KCS3').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('KCS3').getDetails()}" />
								</div>
							</b:dataTableColumn>
						</b:dataTable>
						<b:modal
							title="Kiscserkész #{patrolChallenge.selectedChallenge.type.label} próba szerkesztése"
							styleClass="edit_kcs_challenge_modal"
							rendered="#{userController.edit}">
							<b:panelGrid colSpans="4,8">
								<h:outputLabel value="Dátum:" />
								<b:datepicker value="#{patrolChallenge.selectedChallenge.date}"
									mode="popup-icon" changeMonth="true" changeYear="true" />
								<h:outputLabel value="Helyszín:" />
								<b:inputText value="#{patrolChallenge.selectedChallenge.place}" />
							</b:panelGrid>
							<b:panelGrid colSpans="12">
								<hr style="margin: 10px;" />
								<b:row>
									<div align="right" style="padding-right: 10px;">
										<b:commandButton value="Törlés" iconAwesome="trash"
											action="#{patrolChallenge.deleteChallenge(patrolController.moddedScout, patrolChallenge.selectedChallenge)}" />
										<b:button value="Vissza" iconAwesome="arrow-left"
											dismiss="modal" style="margin: 0px 5px;" />
										<b:commandButton value="Módosít" iconAwesome="save"
											action="#{patrolChallenge.saveChallenge(patrolController.moddedScout, patrolChallenge.selectedChallenge)}" />
									</div>
								</b:row>
							</b:panelGrid>
						</b:modal>
						<b:modal
							title="Új Kiscserkész #{patrolChallenge.newChallenge.type.label} próba"
							styleClass="new_kcs_challenge_modal"
							rendered="#{userController.edit}">
							<b:panelGrid colSpans="4,8">
								<h:outputLabel value="Dátum:" />
								<b:datepicker value="#{patrolChallenge.newChallenge.date}"
									mode="popup-icon" changeMonth="true" changeYear="true" />
								<h:outputLabel value="Helyszín:" />
								<b:inputText value="#{patrolChallenge.newChallenge.place}" />
							</b:panelGrid>
							<b:panelGrid colSpans="12">
								<hr style="margin: 10px;" />
								<b:row>
									<div align="right" style="padding-right: 10px;">
										<b:button value="Vissza" iconAwesome="arrow-left"
											dismiss="modal" style="margin: 0px 5px;" />
										<b:commandButton value="Létrehoz" iconAwesome="save"
											action="#{patrolChallenge.saveChallenge(patrolController.moddedScout, patrolChallenge.newChallenge)}" />
									</div>
								</b:row>
							</b:panelGrid>
						</b:modal>
					</b:tab>

					<b:tab title="Cserkész">
						<b:dataTable
							value="#{utils.orderScoutSet(patrolController.patrol.scouts)}"
							var="scout" info="false" paginated="false" searching="false"
							scrollHorizontally="true">
							<b:dataTableColumn label="Név">
								<t:entityLink entity="#{scout}"/>
							</b:dataTableColumn>
							<b:dataTableColumn label="Újonc">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_cs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('CS1'))"
										oncomplete="$('.edit_cs_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('CS1').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_cs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'CS1')"
										oncomplete="$('.new_cs_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('CS1').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('CS1').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="2. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_cs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('CS2'))"
										oncomplete="$('.edit_cs_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('CS2').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_cs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'CS2')"
										oncomplete="$('.new_cs_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('CS2').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('CS2').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="3. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_cs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('CS3'))"
										oncomplete="$('.edit_cs_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('CS3').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_cs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'CS3')"
										oncomplete="$('.new_cs_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('CS3').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('CS3').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="4. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_cs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('CS4'))"
										oncomplete="$('.edit_cs_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('CS4').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_cs_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'CS4')"
										oncomplete="$('.new_cs_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('CS4').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('CS4').getDetails()}" />
								</div>
							</b:dataTableColumn>
						</b:dataTable>
						<b:modal
							title="#{patrolChallenge.selectedChallenge.type.label} próba szerkesztése"
							styleClass="edit_cs_challenge_modal"
							rendered="#{userController.edit}">
							<b:panelGrid colSpans="4,8">
								<h:outputLabel value="Dátum:" />
								<b:datepicker value="#{patrolChallenge.selectedChallenge.date}"
									mode="popup-icon" changeMonth="true" changeYear="true" />
								<h:outputLabel value="Helyszín:" />
								<b:inputText value="#{patrolChallenge.selectedChallenge.place}" />
							</b:panelGrid>
							<b:panelGrid colSpans="12">
								<hr style="margin: 10px;" />
								<b:row>
									<div align="right" style="padding-right: 10px;">
										<b:commandButton value="Törlés" iconAwesome="trash"
											action="#{patrolChallenge.deleteChallenge(patrolController.moddedScout, patrolChallenge.selectedChallenge)}" />
										<b:button value="Vissza" iconAwesome="arrow-left"
											dismiss="modal" style="margin: 0px 5px;" />
										<b:commandButton value="Módosít" iconAwesome="save"
											action="#{patrolChallenge.saveChallenge(patrolController.moddedScout, patrolChallenge.selectedChallenge)}" />
									</div>
								</b:row>
							</b:panelGrid>
						</b:modal>
						<b:modal
							title="Új #{patrolChallenge.newChallenge.type.label} próba"
							styleClass="new_cs_challenge_modal"
							rendered="#{userController.edit}">
							<b:panelGrid colSpans="4,8">
								<h:outputLabel value="Dátum:" />
								<b:datepicker value="#{patrolChallenge.newChallenge.date}"
									mode="popup-icon" changeMonth="true" changeYear="true" />
								<h:outputLabel value="Helyszín:" />
								<b:inputText value="#{patrolChallenge.newChallenge.place}" />
							</b:panelGrid>
							<b:panelGrid colSpans="12">
								<hr style="margin: 10px;" />
								<b:row>
									<div align="right" style="padding-right: 10px;">
										<b:button value="Vissza" iconAwesome="arrow-left"
											dismiss="modal" style="margin: 0px 5px;" />
										<b:commandButton value="Létrehoz" iconAwesome="save"
											action="#{patrolChallenge.saveChallenge(patrolController.moddedScout, patrolChallenge.newChallenge)}" />
									</div>
								</b:row>
							</b:panelGrid>
						</b:modal>
					</b:tab>

					<b:tab title="Kósza">
						<b:dataTable
							value="#{utils.orderScoutSet(patrolController.patrol.scouts)}"
							var="scout" info="false" paginated="false" searching="false"
							scrollHorizontally="true">
							<b:dataTableColumn label="Név">
								<t:entityLink entity="#{scout}"/>
							</b:dataTableColumn>
							<b:dataTableColumn label="1. év (nyakkendő)">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_ko_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('KO1'))"
										oncomplete="$('.edit_ko_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('KO1').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_ko_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'KO1')"
										oncomplete="$('.new_ko_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('KO1').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('KO1').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="2. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_ko_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('KO2'))"
										oncomplete="$('.edit_ko_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('KO2').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_ko_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'KO2')"
										oncomplete="$('.new_ko_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('KO2').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('KO2').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="3. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_ko_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('KO3'))"
										oncomplete="$('.edit_ko_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('KO3').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_ko_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'KO3')"
										oncomplete="$('.new_ko_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('KO3').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('KO3').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="4. év">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_ko_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('KO4'))"
										oncomplete="$('.edit_ko_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('KO4').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_ko_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'KO4')"
										oncomplete="$('.new_ko_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('KO4').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('KO4').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="Kósza kolonc">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_ko_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('KO'))"
										oncomplete="$('.edit_ko_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('KO').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_ko_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'KO')"
										oncomplete="$('.new_ko_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('KO').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('KO').getDetails()}" />
								</div>
							</b:dataTableColumn>
						</b:dataTable>
						<b:modal
							title="#{patrolChallenge.selectedChallenge.type.label} próba szerkesztése"
							styleClass="edit_ko_challenge_modal"
							rendered="#{userController.edit}">
							<b:panelGrid colSpans="4,8">
								<h:outputLabel value="Dátum:" />
								<b:datepicker value="#{patrolChallenge.selectedChallenge.date}"
									mode="popup-icon" changeMonth="true" changeYear="true" />
								<h:outputLabel value="Helyszín:" />
								<b:inputText value="#{patrolChallenge.selectedChallenge.place}" />
							</b:panelGrid>
							<b:panelGrid colSpans="12">
								<hr style="margin: 10px;" />
								<b:row>
									<div align="right" style="padding-right: 10px;">
										<b:commandButton value="Törlés" iconAwesome="trash"
											action="#{patrolChallenge.deleteChallenge(patrolController.moddedScout, patrolChallenge.selectedChallenge)}" />
										<b:button value="Vissza" iconAwesome="arrow-left"
											dismiss="modal" style="margin: 0px 5px;" />
										<b:commandButton value="Módosít" iconAwesome="save"
											action="#{patrolChallenge.saveChallenge(patrolController.moddedScout, patrolChallenge.selectedChallenge)}" />
									</div>
								</b:row>
							</b:panelGrid>
						</b:modal>
						<b:modal
							title="Új #{patrolChallenge.newChallenge.type.label} próba"
							styleClass="new_ko_challenge_modal"
							rendered="#{userController.edit}">
							<b:panelGrid colSpans="4,8">
								<h:outputLabel value="Dátum:" />
								<b:datepicker value="#{patrolChallenge.newChallenge.date}"
									mode="popup-icon" changeMonth="true" changeYear="true" />
								<h:outputLabel value="Helyszín:" />
								<b:inputText value="#{patrolChallenge.newChallenge.place}" />
							</b:panelGrid>
							<b:panelGrid colSpans="12">
								<hr style="margin: 10px;" />
								<b:row>
									<div align="right" style="padding-right: 10px;">
										<b:button value="Vissza" iconAwesome="arrow-left"
											dismiss="modal" style="margin: 0px 5px;" />
										<b:commandButton value="Létrehoz" iconAwesome="save"
											action="#{patrolChallenge.saveChallenge(patrolController.moddedScout, patrolChallenge.newChallenge)}" />
									</div>
								</b:row>
							</b:panelGrid>
						</b:modal>
					</b:tab>

					<b:tab title="Vándor">
						<b:dataTable
							value="#{utils.orderScoutSet(patrolController.patrol.scouts)}"
							var="scout" info="false" paginated="false" searching="false"
							scrollHorizontally="true">
							<b:dataTableColumn label="Név">
								<t:entityLink entity="#{scout}"/>
							</b:dataTableColumn>
							<b:dataTableColumn label="1. év (nyakkendő)">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_va_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('VA1'))"
										oncomplete="$('.edit_va_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('VA1').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_va_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'VA1')"
										oncomplete="$('.new_va_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('VA1').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('VA1').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="2. év (barackmag)">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_va_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('VA2'))"
										oncomplete="$('.edit_va_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('VA2').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_va_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'VA2')"
										oncomplete="$('.new_va_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('VA2').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('VA2').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="3. év (égertoboz)">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_va_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('VA3'))"
										oncomplete="$('.edit_va_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('VA3').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_va_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'VA3')"
										oncomplete="$('.new_va_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('VA3').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('VA3').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="4. év (dió)">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_va_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('VA4'))"
										oncomplete="$('.edit_va_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('VA4').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_va_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'VA4')"
										oncomplete="$('.new_va_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('VA4').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('VA4').getDetails()}" />
								</div>
							</b:dataTableColumn>
							<b:dataTableColumn label="Világjáró őv">
								<div>
									<b:commandButton iconAwesome="pencil" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.edit_va_challenge_modal)"
										onclick="ajax:patrolChallenge.setForSelectedModal(scout, scout.getChallengeByType('VAV'))"
										oncomplete="$('.edit_va_challenge_modal').modal();return false;"
										rendered="#{not empty scout.getChallengeByType('VAV').getDetails() and userController.edit}" />
									<b:commandButton iconAwesome="plus" size="xs"
										style="margin-right:5px" ajax="true"
										update="@(.new_va_challenge_modal)"
										onclick="ajax:patrolChallenge.setForNewModal(scout, 'VAV')"
										oncomplete="$('.new_va_challenge_modal').modal();return false;"
										rendered="#{empty scout.getChallengeByType('VAV').getDetails() and userController.edit}" />
									<h:outputText
										value="#{scout.getChallengeByType('VAV').getDetails()}" />
								</div>
							</b:dataTableColumn>
						</b:dataTable>
						<b:modal
							title="#{patrolChallenge.selectedChallenge.type.label} próba szerkesztése"
							styleClass="edit_va_challenge_modal"
							rendered="#{userController.edit}">
							<b:panelGrid colSpans="4,8">
								<h:outputLabel value="Dátum:" />
								<b:datepicker value="#{patrolChallenge.selectedChallenge.date}"
									mode="popup-icon" changeMonth="true" changeYear="true" />
								<h:outputLabel value="Helyszín:" />
								<b:inputText value="#{patrolChallenge.selectedChallenge.place}" />
							</b:panelGrid>
							<b:panelGrid colSpans="12">
								<hr style="margin: 10px;" />
								<b:row>
									<div align="right" style="padding-right: 10px;">
										<b:commandButton value="Törlés" iconAwesome="trash"
											action="#{patrolChallenge.deleteChallenge(patrolController.moddedScout, patrolChallenge.selectedChallenge)}" />
										<b:button value="Vissza" iconAwesome="arrow-left"
											dismiss="modal" style="margin: 0px 5px;" />
										<b:commandButton value="Módosít" iconAwesome="save"
											action="#{patrolChallenge.saveChallenge(patrolController.moddedScout, patrolChallenge.selectedChallenge)}" />
									</div>
								</b:row>
							</b:panelGrid>
						</b:modal>
						<b:modal
							title="Új #{patrolChallenge.newChallenge.type.label} próba"
							styleClass="new_va_challenge_modal"
							rendered="#{userController.edit}">
							<b:panelGrid colSpans="4,8">
								<h:outputLabel value="Dátum:" />
								<b:datepicker value="#{patrolChallenge.newChallenge.date}"
									mode="popup-icon" changeMonth="true" changeYear="true" />
								<h:outputLabel value="Helyszín:" />
								<b:inputText value="#{patrolChallenge.newChallenge.place}" />
							</b:panelGrid>
							<b:panelGrid colSpans="12">
								<hr style="margin: 10px;" />
								<b:row>
									<div align="right" style="padding-right: 10px;">
										<b:button value="Vissza" iconAwesome="arrow-left"
											dismiss="modal" style="margin: 0px 5px;" />
										<b:commandButton value="Létrehoz" iconAwesome="save"
											action="#{patrolChallenge.saveChallenge(patrolController.moddedScout, patrolChallenge.newChallenge)}" />
									</div>
								</b:row>
							</b:panelGrid>
						</b:modal>
					</b:tab>

				</b:tabView>

			</b:form>

		</ui:define>
	</ui:composition>
</h:body>
</html>